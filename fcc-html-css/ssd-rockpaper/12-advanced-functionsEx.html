<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Advanced Funcions</title>
  </head>
  <body>
    <button class="js-btn1">Click & Wait</button>
    <p></p>
    <button class="js-btn2">Add to cart</button>
    <p></p>
    <p class="js-addcart-para"></p>

    <button class="js-add-btn">Add</button>

    <button class="js-remove-btn">Remove</button>

    <script>
      /*
      // setTimeout(function () {
      //   console.log(`TIMEOUT`);
      //   console.log(`timeout2`);
      // }, 3000);

      // console.log(`next line`);

      // setInterval(function () {
      //   console.log(`interval`);
      // }, 3000);

      // console.log(`nextline2`);

      // [`make dinner `, `wash dishes`, `watch youtube`].forEach(function (
      //   value,
      //   index
      // ) {
      //   if (value === `wash dishes`) {
      //     return;
      //   }
      //   console.log(index);
      //   console.log(value);
      // });*/

      //12a b
      /*
      let add = function () {
        console.log(2 + 3);
      };

      add();
      add();

      function runTwice(fun) {
        fun();
        fun();
      }

      runTwice(function () {
        console.log(`12b`);
      });

      runTwice(add);
      */

      //12c and d
      document.querySelector(`.js-btn1`).addEventListener(`click`, () => {
        updateButton();
      });

      document.querySelector(`.js-btn2`).addEventListener(`click`, () => {
        addToCart();
      });

      document.querySelector(`.js-add-btn`).addEventListener(`click`, () => {
        increaseMsg();
      });

      document.querySelector(`.js-remove-btn`).addEventListener(`click`, () => {
        decreaseMsg();
      });

      function updateButton() {
        document.querySelector(`.js-btn1`).innerHTML = `Loading...`;
        setTimeout(() => {
          document.querySelector(`.js-btn1`).innerHTML = `Finished!`;
        }, 2000);
      }

      //12e
      let timeoutId;

      function addToCart() {
        document.querySelector(`.js-addcart-para`).innerHTML = `Added`;

        clearTimeout(timeoutId);

        timeoutId = setTimeout(() => {
          document.querySelector(`.js-addcart-para`).innerHTML = ``;
        }, 2000);
      }

      //12g and h and i
      let messages = 0;

      function increaseMsg() {
        messages++;
      }

      function decreaseMsg() {
        if (messages === 0) {
          messages = messages;
        } else {
          messages--;
        }
      }

      setInterval(() => {
        if (messages === 0) {
          document.title = `App`;
        } else if (document.title === `(${messages}) New messages`) {
          document.title = `App`;
        } else {
          document.title = `(${messages}) New messages`;
        }
      }, 1500);
    </script>
  </body>
</html>
